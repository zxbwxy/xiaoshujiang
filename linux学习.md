---
title: linux学习 
tags: 新建,模板,小书匠
grammar_cjkRuby: true
---

## 引言 (Introduction)
### 第一章 引言

## 学习 shell

### 第二章 : 什么是 shell
一说到命令行，我们真正指的是 shell。shell 就是一个程序，它接受从键盘输入的命令， 然后把命令传递给操作系统去执行。

#### 终端仿真器
当使用图形界面时，我们需要另一个和shell交互的叫做终端仿真器的程序（terminal）,目的是让我们能访问shell。

#### 第一次按键
好，让我们来启动终端仿真器！
>[username@machinename ~]$

这叫做shell提示符，暗示你shell准备好接受你的叔叔如了。提示符通常包括 用户名@主机名，紧接着当前工作目录。
如果提示符的最后一个字符是“#”, 而不是“$”, 那么这个终端会话就有超级用户权限。 这意味着，我们或者是以 root 用户的身份登录，或者是我们选择的终端仿真器提供超级用户（管理员）权限。

#### 命令历史
上下键控制

#### 移动光标
左右键控制

#### 关于鼠标和光标
虽然，shell是和键盘打交道的，但是可以在中单仿真器里使用鼠标。x窗口系统(用GUI工作的底层引擎)内建了一种机制，支持快速拷贝和粘贴技巧。 如果你按下鼠标左键，沿着文本拖动鼠标（或者双击一个单词）高亮了一些文本， 那么这些高亮的文本就被拷贝到了一个由 X 管理的缓冲区里面。然后按下鼠标中键， 这些文本就被粘贴到光标所在的位置。

#### 试试运行一些简单命令
>[username@machinename ~]$ date
>[username@machinename ~]$ cal
>[username@machinename ~]$ df#查看磁盘剩余空间的数量
>[username@machinename ~]$ free#显示空闲内存的数量

#### 结束终端会话
>[username@machinename ~]$ exit

#### 幕后控制台 
即使终端仿真器没有运行，在后台仍然有几个终端会话运行着。它们叫做虚拟终端 或者是虚拟控制台.这些终端会话都可以通过按下 Ctrl-Alt-F1 到 Ctrl-Alt-F6 访问。

### 第三章：文件系统中跳转

我们需要学习的第一件事（除了打字之外）是如何在 Linux 文件系统中跳转。下面介绍下以下命令：

- pwd — 打印出当前工作目录名

- cd — 更改目录路径

- ls — 列出目录内容

#### 理解文件系统树

类Unix系统中，以分层目录结构来组织所有文件。文件系统中的第一级目录称为根目录。 根目录包含文件和子目录，子目录包含更多的文件和子目录，依此类推。

#### 绝对路径
>[username@machinename ~]$ cd /usr/bin
>
从根目录（用开头的“/”表示）开始，有一个叫 “usr” 的 目录包含了目录 “bin”。

#### 相对路径
绝对路径从根目录开始，直到它的目的地，而相对路径开始于工作目录。 为了做到这个（用相对路径表示）， 我们在文件系统树中用一对特殊符号来表示相对位置。 这对特殊符号是 “.” (点) 和 “..” (点点)。符号 “.” 指的是工作目录，”..” 指的是工作目录的父目录。
>[me@linuxbox usr]$ cd bin

在几乎所有的情况下，你可以省略”./”。它会隐含的默认为在当前工作目录下。

|快捷键	|运行结果|
|-----|-----|
|cd	|更改工作目录到你的家目录。|
|cd -	|更改工作目录到先前的工作目录。|
|cd ~user_name	|更改工作目录到用户家目录。例如, cd ~bob 会更改工作目录到用户“bob”的家目录|





### 第四章：探究操作系统

既然我们已经知道了如何在文件系统中跳转，是时候开始 Linux 操作系统之旅了。然而在开始之前，我们先学习一些对研究 Linux 系统有帮助的命令。
#### 用file确定文件类型
>[username@machinename ~]$file filename

#### 用 less 浏览文件内容
>[username@machinename ~]$less filename
>
less 就是 more（禅语：色即是空）less 属于”页面调度器”类程序，这些程序允许以逐页方式轻松浏览长文本文档。 more 程序只能向前翻页，而 less 程序允许前后翻页

#### 旅行指南
下面我们开始在系统中漫游，温习下刚才的命令。
1.cd 到给定目录
2.列出目录内容 ls -l
3.如果看到一个有趣的文件，用 file 命令确定文件内容
4。如果文件看起来像文本，试着用 less 命令浏览它

 
 |目录	|评论|
|---|---|
|/	|根目录，万物起源。
/bin	|包含系统启动和运行所必须的二进制程序。
/boot	|包含 Linux 内核、初始 RAM 磁盘映像（用于启动时所需的驱动）和 启动加载程序。</br>有趣的文件：</br>1./boot/grub/grub.conf or menu.lst， 被用来配置启动加载程序。</br>2./boot/vmlinuz，Linux 内核。
|/dev	|这是一个包含设备结点的特殊目录。“一切都是文件”，也适用于设备。 在这个目录里，内核维护着所有设备的列表。
|/etc	|这个目录包含所有系统层面的配置文件。它也包含一系列的 shell 脚本， 在系统启动时，这些脚本会开启每个系统服务。这个目录中的任何文件应该是可读的文本文件。</br>有趣的文件：虽然/etc 目录中的任何文件都有趣，但这里只列出了一些我一直喜欢的文件：</br>/etc/crontab， 定义自动运行的任务。</br>/etc/fstab，包含存储设备的列表，以及与他们相关的挂载点。</br>/etc/passwd，包含用户帐号列表。
|/home	|在通常的配置环境下，系统会在/home 下，给每个用户分配一个目录。普通用户只能 在自己的目录下写文件。这个限制保护系统免受错误的用户活动破坏。
|/lib	|包含核心系统程序所使用的共享库文件。这些文件与 Windows 中的动态链接库相似。
|/lost+found	|每个使用 Linux 文件系统的格式化分区或设备，例如 ext3文件系统， 都会有这个目录。当部分恢复一个损坏的文件系统时，会用到这个目录。这个目录应该是空的，除非文件系统 真正的损坏了。
|/media	|在现在的 Linux 系统中，/media 目录会包含可移动介质的挂载点， 例如 USB 驱动器，CD-ROMs 等等。这些介质连接到计算机之后，会自动地挂载到这个目录结点下。
|/mnt	|在早些的 Linux 系统中，/mnt 目录包含可移动介质的挂载点。
|/opt	|这个/opt 目录被用来安装“可选的”软件。这个主要用来存储可能 安装在系统中的商业软件产品。
|/proc	|这个/proc 目录很特殊。从存储在硬盘上的文件的意义上说，它不是真正的文件系统。 相反，它是一个由 Linux 内核维护的虚拟文件系统。它所包含的文件是内核的窥视孔。这些文件是可读的， |它们会告诉你内核是怎样监管计算机的。
|/root	|root 帐户的家目录。
|/sbin	|这个目录包含“系统”二进制文件。它们是完成重大系统任务的程序，通常为超级用户保留。
|/tmp	|这个/tmp 目录，是用来存储由各种程序创建的临时文件的地方。一些配置导致系统每次 重新启动时，都会清空这个目录。
|/usr	|在 Linux 系统中，/usr 目录可能是最大的一个。它包含普通用户所需要的所有程序和文件。
|/usr/bin|	/usr/bin 目录包含系统安装的可执行程序。通常，这个目录会包含许多程序。</br>/usr/lib	包含由/usr/bin 目录中的程序所用的共享库。</br>/usr/local	这个/usr/local 目录，是非系统发行版自带程序的安装目录。 通常，由源码编译的程序会安装在/usr/local/bin 目录下。新安装的 Linux 系统中会存在这个目录，并且在管理员安装程序之前，这个目录是空的。</br>/usr/sbin	包含许多系统管理程序。</br>/usr/share	/usr/share 目录包含许多由/usr/bin 目录中的程序使用的共享数据。 其中包括像默认的配置文件、图标、桌面背景、音频文件等等。</br>/usr/share/doc	大多数安装在系统中的软件包会包含一些文档。在/usr/share/doc 目录下， 我们可以找到按照软件包分类的文档。
|/var	|除了/tmp 和/home 目录之外，相对来说，目前我们看到的目录是静态的，这是说， 它们的内容不会改变。/var 目录存放的是动态文件。各种数据库，假脱机文件， 用户邮件等等，都位于在这里。
|/var/log	|这个/var/log 目录包含日志文件、各种系统活动的记录。这些文件非常重要，并且 应该时时监测它们。其中最重要的一个文件是/var/log/messages。注意，为了系统安全，在一些系统中， 你必须是超级用户才能查看这些日志文件。
[Linux 系统中的目录]

#### 符号链接
>lrwxrwxrwx 1 root root 11 2007-08-11 07:34 libc.so.6 -> libc-2.6.so
>
注意看，为何这条信息第一个字符是“l”，并且有两个文件名呢？ 这是一个特殊文件，叫做符号链接（也称为软链接或者 symlink ）。
在上面列出的目录（来自于 Fedora 的 /lib 目录）展示了一个叫做 “libc.so.6” 的符号链接，这个符号链接指向一个 叫做 “libc-2.6.so” 的共享库文件。这意味着，寻找文件 “libc.so.6” 的程序，实际上得到是文件 “libc-2.6.so”。
#### 硬链接

### 第五章：操作文件和目录

 - cp — 复制文件和目录
 - mv — 移动/重命名文件和目录
 - mkdir — 创建目录
 - rm — 删除文件和目录
 - ln — 创建硬链接和符号链接
#### 通配符
因为 shell 频繁地使用 文件名，shell 提供了特殊字符来帮助你快速指定一组文件名。这些特殊字符叫做通配符。 使用通配符（也以文件名代换著称）允许你依据字符的组合模式来选择文件名。

表5-1: 通配符
|通配符	|意义
|-----|-----
|*	|匹配任意多个字符（包括零个或一个）
|?	|匹配任意一个字符（不包括零个）
|[characters]	|匹配任意一个属于字符集中的字符
|[!characters]	|匹配任意一个不是字符集中的字符
|[[:class:]]	|匹配任意一个属于指定字符类中的字符


表5-2: 普遍使用的字符类
|字符类	|意义
|-----|---
|[:alnum:]|	匹配任意一个字母或数字
|[:alpha:]|	匹配任意一个字母
|[:digit:]|	匹配任意一个数字
|[:lower:]|	匹配任意一个小写字母
|[:upper:]|	匹配任意一个大写字母

借助通配符，为文件名构建非常复杂的选择标准成为可能。下面是一些类型匹配的范例:
表5-3: 通配符范例
|模式|	匹配对象
|---|---
|*	|所有文件
|g*	|文件名以“g”开头的文件
|b*.txt|	以"b"开头，中间有零个或任意多个字符，并以".txt"结尾的文件
|Data???|	以“Data”开头，其后紧接着3个字符的文件
|[abc]*|	文件名以"a","b",或"c"开头的文件
|BACKUP.[0-9][0-9][0-9]|	以"BACKUP."开头，并紧接着3个数字的文件
|[[:upper:]]*|	以大写字母开头的文件
|[![:digit:]]*|	不以数字开头的文件
|*[[:lower:]123]|	文件名以小写字母结尾，或以 “1”，“2”，或 “3” 结尾的文件
#### mkdir - 创建目录
#### cp - 复制文件和目录
这里列举了 cp 命令一些有用的选项（短选项和等效的长选项）：

表5-4: cp 选项
|选项|	意义
|----|----
|-a, --archive|	复制文件和目录，以及它们的属性，包括所有权和权限。通常，复本具有用户所操作文件的默认属性。
|-i, --interactive|	在重写已存在文件之前，提示用户确认。如果这个选项不指定， cp 命令会默认重写文件。
|-r, --recursive|	递归地复制目录及目录中的内容。当复制目录时， 需要这个选项（或者-a 选项）。
|-u, --update|	当把文件从一个目录复制到另一个目录时，仅复制目标目录中不存在的文件，或者是文件内容新于目标目录中已经存在的文件。
|-v, --verbose|	显示翔实的命令操作信息

#### mv - 移动和重命名文件


表5-5: mv 选项
|选项 |	意义
|---- |----
|-i --interactive|	在重写一个已经存在的文件之前，提示用户确认信息。 如果不指定这个选项，mv命令会默认重写文件内容。
|-u --update|	当把文件从一个目录移动另一个目录时，只是移动不存在的文件，或者文件内容新于目标目录相对应文件的内容。
|-v --verbose|	当操作 mv 命令时，显示翔实的操作信息。

#### rm - 删除文件和目录


表5-6: rm 选项
|选项 |	意义
|----|----
|-i, --interactive	|在删除已存在的文件前，提示用户确认信息。 如果不指定这个选项，rm 会默默地删除文件
|-r, --recursive|	递归地删除文件，这意味着，如果要删除一个目录，而此目录又包含子目录，那么子目录也会被删除。要删除一个目录，必须指定这个选项。
|-f, --force|	忽视不存在的文件，不显示提示信息。这选项覆盖了“--interactive”选项。
|-v, --verbose|	在执行 rm 命令时，显示翔实的操作信息。

#### ln — 创建链接
创建硬链接
>ln file link
创建符号链接（软链接）
>ln -s item link  --‘item’可以是一个文件或是一个目录
##### 创建硬链接
当考虑到硬链接的时候，我们可以假设文件由两部分组成：包含文件内容的数据部分和持有文件名的名字部分 ，这将有助于我们理解这个概念。当我们创建文件硬链接的时候，实际上是为文件创建了额外的名字部分， 并且这些名字都关联到相同的数据部分。这时系统会分配一连串的磁盘块给所谓的索引节点，然后索引节点与文 件名字部分相关联。因此每一个硬链接都关系到一个具体的包含文件内容的索引节点。
ls 命令有一种方法，来展示（文件索引节点）的信息。在命令中加上”-i”选项：
##### 创建符号链接
建立符号链接的目的是为了克服硬链接的两个缺点：硬链接不能跨越物理设备， 硬链接不能关联目录，只能是文件。符号链接是文件的特殊类型，它包含一个指向 目标文件或目录的文本指针。


### 第六章：使用命令
#### 到底什么是命令？
命令可以是下面四种形式之一：

1. 是一个可执行程序，就像我们所看到的位于目录/usr/bin 中的文件一样。 这一类程序可以是用诸如 C 和 C++语言写成的程序编译的二进制文件, 也可以是由诸如shell，perl，python，ruby等等脚本语言写成的程序 。

2. 是一个内建于 shell 自身的命令。bash 支持若干命令，内部叫做 shell 内部命令 (builtins)。例如，cd 命令，就是一个 shell 内部命令。

3. 是一个 shell 函数。这些是小规模的 shell 脚本，它们混合到环境变量中。 在后续的章节里，我们将讨论配置环境变量以及书写 shell 函数。但是现在， 仅仅意识到它们的存在就可以了。

4. 是一个命令别名。我们可以定义自己的命令，建立在其它命令之上。

#### 识别命令
这经常很有用，能确切地知道正在使用四类命令中的哪一类。Linux 提供了一对方法来 弄明白命令类型。
**type － 显示命令的类型**
type 命令是 shell 内部命令，它会显示命令的类别
**which － 显示一个可执行程序的位置**
这个命令只对可执行程序有效，不包括内建命令和命令别名，别名是真正的可执行程序的替代物。 当我们试着使用 shell 内建命令时，例如，cd命令，我们或者得不到回应，或者是个错误信息：



### 第七章：重定向
### 第八章：从 shell 眼中看世界
### 第九章：键盘高级操作技巧
### 第十章：权限
### 第十一章：进程
### 配置文件和 shell 环境
### 第十二章 : shell 环境
### 第十三章 : vi 简介
### 第十四章 : 自定制 shell 提示符
### 常见任务和基本工具
### 第十五章 : 软件包管理
### 第十六章 : 存储媒介
### 第十七章 : 网络系统
### 第十八章 : 查找文件
### 第十九章 : 归档和备份
### 第二十章 : 正则表达式
### 第二十一章 : 文本处理
### 第二十二章 : 格式化输出
### 第二十三章 : 打印
### 第二十四章 : 编译程序
### 编写 Shell 脚本
### 第二十五章 : 编写第一个 Shell 脚本
### 第二十六章 : 启动一个项目
### 第二十七章 : 自顶向下设计
### 第二十八章 : 流程控制：if 分支结构
### 第二十九章 : 读取键盘输入
### 第三十章 : 流程控制：while/until 循环
### 第三十一章 : 疑难排解
### 第三十二章 : 流程控制：case 分支
### 第三十三章 : 位置参数
### 第三十四章 : 流程控制：for 循环
### 第三十五章 : 字符串和数字
### 第三十六章 : 数组
### 第三十七章 : 奇珍异宝